<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Texas Hold'em Calculator / å¾·å·æ‰‘å…‹è®¡ç®—å™¨</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>ğŸ° Texas Hold'em Calculator</h1>
            <h2>å¾·å·æ‰‘å…‹æ¦‚ç‡è®¡ç®—å™¨</h2>
            <p>Calculate win probabilities and get betting recommendations / è®¡ç®—èƒœç‡å¹¶è·å¾—ä¸‹æ³¨å»ºè®®</p>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Card Input Section -->
            <div class="card-section">
                <div class="input-group">
                    <h3><i class="fas fa-playing-card"></i> Your Hole Cards / ä½ çš„åº•ç‰Œ</h3>
                    <div class="card-inputs">
                        <input type="text" id="hole-card-1" placeholder="As" maxlength="3" class="card-input">
                        <input type="text" id="hole-card-2" placeholder="Kh" maxlength="3" class="card-input">
                    </div>
                    <div class="card-help">
                        Format: Rank + Suit (e.g., As, Kh, 10c, 2d) / æ ¼å¼ï¼šç­‰çº§+èŠ±è‰²
                    </div>
                </div>

                <div class="input-group">
                    <h3><i class="fas fa-layer-group"></i> Community Cards / å…¬å…±ç‰Œ <span class="optional">(Optional / å¯é€‰)</span></h3>
                    <div class="community-cards">
                        <div class="flop">
                            <label>Flop / ç¿»ç‰Œ:</label>
                            <input type="text" id="flop-1" placeholder="2c" maxlength="3" class="card-input">
                            <input type="text" id="flop-2" placeholder="3h" maxlength="3" class="card-input">
                            <input type="text" id="flop-3" placeholder="4s" maxlength="3" class="card-input">
                        </div>
                        <div class="turn-river">
                            <label>Turn / è½¬ç‰Œ:</label>
                            <input type="text" id="turn" placeholder="5d" maxlength="3" class="card-input">
                            <label>River / æ²³ç‰Œ:</label>
                            <input type="text" id="river" placeholder="6c" maxlength="3" class="card-input">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Game Settings -->
            <div class="settings-section">
                <div class="setting-group">
                    <label for="num-opponents"><i class="fas fa-users"></i> Number of Opponents / å¯¹æ‰‹æ•°é‡:</label>
                    <select id="num-opponents">
                        <option value="1" selected>1 Opponent</option>
                        <option value="2">2 Opponents</option>
                        <option value="3">3 Opponents</option>
                        <option value="4">4 Opponents</option>
                        <option value="5">5 Opponents</option>
                        <option value="6">6 Opponents</option>
                        <option value="7">7 Opponents</option>
                        <option value="8">8 Opponents</option>
                        <option value="9">9 Opponents</option>
                    </select>
                </div>

                <div class="setting-group">
                    <label for="pot-size"><i class="fas fa-coins"></i> Pot Size / åº•æ± å¤§å°:</label>
                    <input type="number" id="pot-size" value="100" min="1" step="1">
                </div>

                <div class="setting-group">
                    <label for="bet-to-call"><i class="fas fa-dollar-sign"></i> Bet to Call / éœ€è¦è·Ÿæ³¨:</label>
                    <input type="number" id="bet-to-call" value="10" min="0" step="1">
                </div>

                <div class="setting-group">
                    <label for="player-position"><i class="fas fa-chair"></i> Your Position / æ‚¨çš„ä½ç½®:</label>
                    <select id="player-position">
                        <option value="SB">Small Blind / å°ç›²</option>
                        <option value="BB" selected>Big Blind / å¤§ç›²</option>
                        <option value="UTG">Under The Gun / æªå£ä½</option>
                        <option value="MP">Middle Position / ä¸­ä½</option>
                        <option value="CO">Cutoff / å…³ç…ä½</option>
                        <option value="BTN">Button / æŒ‰é’®ä½</option>
                    </select>
                </div>

                <div class="setting-group">
                    <label for="simulations"><i class="fas fa-calculator"></i> Simulations / æ¨¡æ‹Ÿæ¬¡æ•°:</label>
                    <select id="simulations">
                        <option value="1000">1,000 (Fast / å¿«é€Ÿ)</option>
                        <option value="5000" selected>5,000 (Accurate / å‡†ç¡®)</option>
                        <option value="10000">10,000 (Precise / ç²¾ç¡®)</option>
                        <option value="20000">20,000 (Very Precise / éå¸¸ç²¾ç¡®)</option>
                    </select>
                </div>
            </div>

            <!-- Player Actions Section -->
            <div class="actions-section">
                <h3><i class="fas fa-history"></i> Player Actions / ç©å®¶åŠ¨ä½œ</h3>
                <div class="actions-container" id="actions-container">
                    <!-- Player action records will be dynamically added here -->
                </div>
                <div class="action-input">
                    <select id="action-player">
                        <option value="">Select Player / é€‰æ‹©ç©å®¶</option>
                    </select>
                    <select id="action-type">
                        <option value="fold">Fold / å¼ƒç‰Œ</option>
                        <option value="check">Check / è¿‡ç‰Œ</option>
                        <option value="call">Call / è·Ÿæ³¨</option>
                        <option value="raise">Raise / åŠ æ³¨</option>
                        <option value="all-in">All-in / å…¨ä¸‹</option>
                    </select>
                    <input type="number" id="action-amount" placeholder="Amount / é‡‘é¢" min="0" style="display: none;">
                    <button id="add-action-btn" class="btn-secondary">
                        <i class="fas fa-plus"></i> Add Action / æ·»åŠ åŠ¨ä½œ
                    </button>
                    <button id="clear-actions-btn" class="btn-secondary">
                        <i class="fas fa-trash"></i> Clear All / æ¸…é™¤æ‰€æœ‰
                    </button>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-section">
                <button id="calculate-btn" class="btn-primary">
                    <i class="fas fa-calculator"></i> Calculate / è®¡ç®—
                </button>
                <button id="clear-btn" class="btn-secondary">
                    <i class="fas fa-eraser"></i> Clear / æ¸…é™¤
                </button>
                <button id="presets-btn" class="btn-secondary">
                    <i class="fas fa-list"></i> Presets / é¢„è®¾
                </button>
            </div>

            <!-- Loading Indicator -->
            <div id="loading" class="loading hidden">
                <i class="fas fa-spinner fa-spin"></i> Calculating probabilities... / æ­£åœ¨è®¡ç®—æ¦‚ç‡...
            </div>

            <!-- Results Section -->
            <div id="results" class="results-section hidden">
                <!-- Probability Results -->
                <div class="result-card">
                    <h3><i class="fas fa-chart-pie"></i> Probability Analysis / æ¦‚ç‡åˆ†æ</h3>
                    <div class="probability-bars">
                        <div class="prob-bar">
                            <label>Win / èƒœç‡:</label>
                            <div class="bar-container">
                                <div id="win-bar" class="progress-bar win-bar"></div>
                                <span id="win-percentage">0%</span>
                            </div>
                        </div>
                        <div class="prob-bar">
                            <label>Tie / å¹³å±€:</label>
                            <div class="bar-container">
                                <div id="tie-bar" class="progress-bar tie-bar"></div>
                                <span id="tie-percentage">0%</span>
                            </div>
                        </div>
                        <div class="prob-bar">
                            <label>Lose / è´¥ç‡:</label>
                            <div class="bar-container">
                                <div id="lose-bar" class="progress-bar lose-bar"></div>
                                <span id="lose-percentage">0%</span>
                            </div>
                        </div>
                    </div>
                    <div class="simulations-info">
                        Based on <span id="simulations-count">0</span> simulations / åŸºäº <span id="simulations-count-cn">0</span> æ¬¡æ¨¡æ‹Ÿ
                    </div>
                </div>

                <!-- Hand Strength -->
                <div class="result-card">
                    <h3><i class="fas fa-fist-raised"></i> Hand Strength / æ‰‹ç‰Œå¼ºåº¦</h3>
                    <div class="hand-info">
                        <div class="current-hand">
                            <strong>Current Hand / å½“å‰æ‰‹ç‰Œ:</strong> 
                            <span id="hand-description">-</span>
                        </div>
                        <div class="hand-rank">
                            <strong>Hand Rank / æ‰‹ç‰Œç­‰çº§:</strong>
                            <span id="hand-rank">-</span>
                        </div>
                        <div class="strength-score" id="strength-score-div">
                            <strong>Strength Score / å¼ºåº¦åˆ†æ•°:</strong>
                            <span id="strength-score">-</span>
                        </div>
                    </div>
                </div>

                <!-- Betting Recommendation -->
                <div class="result-card betting-advice">
                    <h3><i class="fas fa-lightbulb"></i> Betting Recommendation / ä¸‹æ³¨å»ºè®®</h3>
                    <div class="recommendation">
                        <div class="action-recommendation">
                            <strong>Recommended Action / å»ºè®®è¡ŒåŠ¨:</strong>
                            <span id="recommended-action" class="action-badge">-</span>
                        </div>
                        <div class="confidence">
                            <strong>Confidence / ç½®ä¿¡åº¦:</strong>
                            <span id="confidence" class="confidence-badge">-</span>
                        </div>
                        <div class="expected-value">
                            <strong>Expected Value / æœŸæœ›å€¼:</strong>
                            <span id="expected-value">-</span>
                        </div>
                        <div class="pot-odds">
                            <strong>Pot Odds / åº•æ± èµ”ç‡:</strong>
                            <span id="pot-odds-display">-</span>
                        </div>
                        <div class="reasoning">
                            <strong>Reasoning / ç†ç”±:</strong>
                            <p id="reasoning-text">-</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Error Display -->
            <div id="error" class="error-message hidden">
                <i class="fas fa-exclamation-triangle"></i>
                <span id="error-text"></span>
            </div>
        </main>

        <!-- Presets Modal -->
        <div id="presets-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Preset Scenarios / é¢„è®¾åœºæ™¯</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div id="presets-list" class="presets-list">
                        <!-- Presets will be loaded here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Card Help Modal -->
        <div id="help-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Card Format Help / ç‰Œé¢æ ¼å¼å¸®åŠ©</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="help-section">
                        <h4>Ranks / ç­‰çº§:</h4>
                        <p>2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K, A</p>
                    </div>
                    <div class="help-section">
                        <h4>Suits / èŠ±è‰²:</h4>
                        <p>
                            <strong>s</strong> = â™  Spades / é»‘æ¡ƒ<br>
                            <strong>h</strong> = â™¥ Hearts / çº¢æ¡ƒ<br>
                            <strong>d</strong> = â™¦ Diamonds / æ–¹å—<br>
                            <strong>c</strong> = â™£ Clubs / æ¢…èŠ±
                        </p>
                    </div>
                    <div class="help-section">
                        <h4>Examples / ç¤ºä¾‹:</h4>
                        <p>
                            As = Ace of Spades / é»‘æ¡ƒA<br>
                            Kh = King of Hearts / çº¢æ¡ƒK<br>
                            10c = Ten of Clubs / æ¢…èŠ±10<br>
                            2d = Two of Diamonds / æ–¹å—2
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>
                <button id="help-btn" class="btn-link">
                    <i class="fas fa-question-circle"></i> Card Format Help / ç‰Œé¢æ ¼å¼å¸®åŠ©
                </button>
            </p>
            <p>Made with â¤ï¸ for poker enthusiasts worldwide / ä¸ºå…¨ä¸–ç•Œçš„æ‰‘å…‹çˆ±å¥½è€…ç”¨â¤ï¸åˆ¶ä½œ</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>